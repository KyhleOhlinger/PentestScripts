 // ==UserScript==
// @name     Get Emails
// @version  1
// @grant    none
// @run-at      document-start
// ==/UserScript==

document.onreadystatechange = function () {
    if (document.readyState === "interactive") {
       	allEmails = getAllEmails();
        console.log("================= ALL EMAILS ================\n\n" + allEmails + "\n\n===================================================\n\n");				
        
        domainEmails = domainSpecificEmails();
        console.log("================= DOMAIN SPECIFIC EMAILS ================\n\n" + domainEmails + "\n\n===================================================\n\n");
    }
}

function getAllEmails() 
{
  var search_in = document.body.innerHTML;
  string_context = search_in.toString();
  array_mails = string_context.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);
  return array_mails;     
}

function domainSpecificEmails() 
{
  var search_in = document.body.innerHTML;
  string_context = search_in.toString();
  //Change Domain Name as Required
  array_mails = string_context.match(/([a-zA-Z0-9._-]+@([a-zA-Z0-9._-]+\.)?DOMAINNAME\.com)/gi);
  return array_mails;     
}
